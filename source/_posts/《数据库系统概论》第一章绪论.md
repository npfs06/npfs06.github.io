---
title: 《数据库系统概论》第一章绪论
date: 2021-03-02 14:59:54
categories:
  - [share]
  - [数据库]
---

《数据库系统概论》第一章绪论

<!--more-->

# 数据模型

 **思维导图**

![](https://img.npfs06.top/20210302150456.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

## 四大基本概念

### 数据–Data

数据(Data)是数据库中存储的基本对象

#### 数据的定义

描述事物的符号记录

#### 数据的种类

文本、图形、图像、音频、视频、学生的档案记录、货物的运输情况等

####  数据的特点

数据与其语义是不可分的

#### 数据举例

数据的含义称为数据的语义，数据与其语义是不可分的。
```
例如 93是一个数据
语义1：学生某门课的成绩
语义2：某人的体重
语义3：计算机系2003级学生人数
语义4：请同学给出。。。

例如 学生档案中的学生记录
（李明，男，197205，江苏南京市，计算机系，1990）
语义：学生姓名、性别、出生年月、籍贯、所在院系、
入学时间
解释：李明是个大学生，1972年5月出生，江苏南京市人，1990年考入计算机系
```

### 数据库–Database

#### 数据库的定义

数据库(Database,简称DB)是`长期储存`在`计算机内`、`有组织`、`可共享`的大量`数据`的`集合`。

#### 数据库的基本特征

```
数据按一定的数据模型组织、描述和储存
可为各种用户共享
冗余度较小
数据独立性较高
易扩展
```

### 数据库管理系统–DataBase Management System

####  什么是DBMS?

DBMS是位于用户与操作系统之间的一层`数据管理软件`。是基础软件，是一个大型复杂的软件系统

####  DBMS的用途

科学地组织和存储数据、高效地获取和维护数据

####  DBMS的主要功能

- `数据定义功能`
  提供数据定义语言(DDL)
  定义数据库中的数据对象
- `数据组织、存储和管理`
  分类组织、存储和管理各种数据
  确定组织数据的文件结构和存取方式
  实现数据之间的联系
  提供多种存取方法提高存取效率
- `数据操纵功能`
  提供数据操纵语言(DML)
  实现对数据库的基本操作 (查询、插入、删除和修改)
- `数据库的事务管理和运行管理`
  数据库在建立、运行和维护时由DBMS统一管理和控制
  保证数据的安全性、完整性、多用户对数据的并发使用
  发生故障后的系统恢复
- `数据库的建立和维护功能(实用程序)`
  数据库初始数据装载转换
  数据库转储
  介质故障恢复
  数据库的重组织
  性能监视分析等
- `其它功能`
  DBMS与网络中其它软件系统的通信
  两个DBMS系统的数据转换
  异构数据库之间的互访和互操作


### 数据库系统–Database System

####  什么是数据库系统（Database System，简称DBS）

在计算机系统中引入数据库后的系统构成

####  数据库系统的构成

```
数据库 Database
数据库管理系统（及其开发工具）Database Management System
应用系统
数据库管理员 Database Administrator
```
![](https://img.npfs06.top/20210302150518.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)


####  数据库系统的特点

**1.数据结构化**

- `整体数据的结构化`是数据库的主要特征之一
- `整体结构化`
  不再仅仅针对某一个应用，而是面向全组织
  不仅数据内部结构化，整体是结构化的，数据之间具有联系
- `数据库中实现的是数据的真正结构化`
  数据的结构用`数据模型`描述，无需程序定义和解释
  数据可以`变长`
  数据的最小存取单位是`数据项`

**2.数据的共享性高，冗余度低，易扩充**

- 数据库系统从整体角度看待和描述数据，数据面向整个系统，可以被多个用户、多个应用共享使用。
- `数据共享的好处`
  减少数据冗余，节约存储空间
  避免数据之间的不相容性与不一致性
  使系统易于扩充

**3.数据独立性高**

- `物理独立性`
  指用户的应用程序与存储在磁盘上的数据库中数据是相互独立的。当数据的物理存储改变了，应用程序不用改变。
- `逻辑独立性`
  指用户的应用程序与数据库的逻辑结构是相互独立的。数据的逻辑结构改变了，用户程序也可以不变。
- 数据独立性是由DBMS的二级映像功能来保证的

**4.数据由DBMS统一管理和控制**

**DBMS提供的数据控制功能**

- 数据的安全性（Security）保护·
  保护数据，以防止不合法的使用造成的数据的泄密和破坏。
-  数据的完整性（Integrity）检查
    将数据控制在有效的范围内，或保证数据之间满足一定的关系。
-  并发（Concurrency）控制
    对多用户的并发操作加以控制和协调，防止相互干扰而得到错误的结果。
-  数据库恢复（Recovery）
    将数据库从错误状态恢复到某一已知的正确状态。

**5.应用程序与数据的对应关系(数据库系统)**

![](https://img.npfs06.top/20210302150532.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

## 数据管理技术的产生和发展

### 什么是数据管理

- 对数据进行分类、组织、编码、存储、检索和维护
- 数据处理的中心问题

### 数据管理技术的发展过程

- 人工管理阶段(20世纪40年代中–50年代中)
- 文件系统阶段(20世纪50年代末–60年代中)
- 数据库系统阶段(20世纪60年代末–现在)

### 时期

- 20世纪60年代末以来

### 产生的背景

```
应用背景 大规模管理
硬件背景 大容量磁盘、磁盘阵列
软件背景 有数据库管理系统
处理方式 联机实时处理,分布处理,批处理
```




# 数据模型



**思维导图**

![](https://img.npfs06.top/20210302150544.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)



## 数据模型的概念

- 在数据库中用数据模型这个工具来`抽象、表示和处理`现实世界中的数据和信息。
- 通俗地讲数据模型就是`现实世界的模拟`。

**数据模型应满足三方面要求：**

- 能比较`真实`地模拟现实世界
- `容易`为人所`理解`
- 便于在计算机上`实现`

## 两大类数据模型

**数据模型分为两类（分属两个不同的层次）**

- (1) `概念模型 也称信息模型`，它是按`用户的观点`来对数据和信息建模，用于数据库设计。
- (2) `逻辑模型`和`物理模型`
  **逻辑模型**主要包括`网状模型`、`层次模型`、`关系模型`、`面向对象模型`等，按`计算机系统的观点`对数据建模，用于DBMS实现。
  **物理模型**是对数据最底层的抽象，描述数据在系统内部的表示方式和存取方法，在磁盘或磁带上的存储方式和存取方法。

### 客观对象的抽象过程—两步抽象

- 现实世界中的客观对象抽象为`概念模型`；
- 把`概念模型`转换为某一DBMS支持的`数据模型`。
  ![](https://img.npfs06.top/20210302150604.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)



## 数据模型的组成要素

### 数据结构

**数据结构是所研究的对象类型的集合**。这些对象是数据库的组成成分，数据结构指对象和对象间联系的表达和实现，是对系统静态特征的描述，包括两个方面：
（1）数据本身：类型、内容、性质。例如关系模型中的域、属性、关系等。
（2）数据之间的联系：数据之间是如何相互关联的，例如关系模型中的主码、外码联系等。

### 数据操作

**数据操作**

- 对数据库中各种`对象(型)`的`实例(值)`允许执行的`操作`，及有关的`操作规则`

**数据操作的类型**

- 查询
- 更新(包括插入、删除、修改)

### 数据的完整性约束条件

- **数据的完整性约束条件**是一组`完整性规则`的集合，规定数据库状态及状态变化所应满足的条件，以保证数据的正确性、有效性和相容性。

> 完整性规则：给定的数据模型中数据及其联系所具有的制约和储存规则

## 概念模型

### 用途与基本要求

**概念模型的用途:**

- 概念模型用于信息世界的建模
- 是现实世界到机器世界的一个中间层次
- 是数据库设计的有力工具
- 数据库设计人员和用户之间进行交流的语言

**对概念模型的基本要求:**

- 较强的语义表达能力
- 能够方便、直接地表达应用中的各种语义知识
- 简单、清晰、易于用户理解

### 信息世界中的基本概念

- (1) `实体`（Entity）
  `客观存在并可相互区别的事物`称为实体。
  可以是具体的人、事、物或抽象的概念。
- (2) `属性`（Attribute）
  `实体`所具有的某一`特性`称为属性。
  一个实体可以由若干个属性来刻画。
- (3) `码`（Key）
  `唯一标识实体的属性`集称为码。
  (4) `域`（Domain）
  `属性`的`取值范围`称为该属性的域。
- (5) `实体型`（Entity Type）
  用`实体名`及其`属性名集合`来抽象和刻画`同类实体`称为实体型
- (6) `实体集`（Entity Set）
  `同一类型实体的集合`称为实体集
- (7) ` 联系`（Relationship）
  - 现实世界中`事物内部`以及`事物之间`的`联系`在信息世界中反映为实体内部的联系和实体之间的联系。
  - 实体`内部的联系`通常是指组成实体的`各属性之间`的联系
  - 实体`之间的联系`通常是指`不同实体集之间`的联系

### 两个实体型之间的联系

![](https://img.npfs06.top/20210302150620.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 一对一联系（1:1）

**实例**

- 一个班级只有一个正班长
- 一个班长只在一个班中任职
  ![](https://img.npfs06.top/20210302150637.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

**定义：**
如果对于实体集A中的每一个实体，实体集B中至多有一个（也可以没有）实体与之联系，反之亦然。则称实体集A与实体集B具有一对一联系，记为1:1

#### 一对多联系（1:n）

**实例**

- 一个班级中有若干名学生，
- 每个学生只在一个班级中学习
  ![](https://img.npfs06.top/20210302150653.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
  **定义：**
  如果对于实体集A中的每一个实体，实体集B中有n个实体（n≥0）与之联系，反之，对于实体集B中的每一个实体，实体集A中至多只有一个实体与之联系，则称实体集A与实体集B有一对多联系，记为1:n

#### 多对多联系（m:n）

**实例**

- 课程与学生之间的联系：
- 一门课程同时有若干个学生选修
- 一个学生可以同时选修多门课程
  ![](https://img.npfs06.top/20210302150708.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
  **定义：**
  如果对于实体集A中的每一个实体，实体集B中有n个实体（n≥0）与之联系，反之，对于实体集B中的每一个实体，实体集A中也有m个实体（m≥0）与之联系，则称实体集A与实体B具有多对多联系，记为m:n

### 两个以上实体型之间的联系

#### 一对多联系（1:m||1:n）

- 若实体集E1，E2，…，En存在联系，对于实体集Ej（j=1，2，…，i-1i+1，…，n）中的给定实体，最多只和Ei中的一个实体相联系，则我们说Ei与E1E2，…，Ei-1，Ei+1，…，En之间的联系是一对多的。

**实例**

- 课程、教师与参考书三个实体型
  一门课程可以有若干个教师讲授，
  使用若干本参考书，
  每一个教师只讲授一门课程，
  每一本参考书只供一门课程使用

![](https://img.npfs06.top/20210302150730.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 一对一联系（1:1:1）

**实例**

- 一个独生子女只有一个父亲，一个母亲
- 一个父亲也只有一个独生子女
- 一个母亲也只有一个独生子女
  ![](https://img.npfs06.top/20210302150745.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 多对多联系（m:n:p）

**实例**
供应商、项目、零件三个实体型
一个供应商可以供给多个项目多种零件
每个项目可以使用多个供应商供应的零件
每种零件可由不同供应商供给
![](https://img.npfs06.top/20210302150803.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

### 单个实体型内的联系

#### 一对多联系（1:n）

**实例**
职工实体型内部具`有领导与被领导`的联系
某一职工（干部）“领导”若干名职工
一个职工仅被另外一个职工直接领导
这是一对多的联系

![](https://img.npfs06.top/20210302150818.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 一对一联系（1:1）

- 身份证可以唯一确认一个人的身份，人与身份证`有确认和被确认`的关系
- 一个身份证唯一确定一个人
- 一个人也唯一确认一个身份证
  ![](https://img.npfs06.top/20210302150841.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 多对多联系 （m:n）

- 饮料和厂商之间有`制造和被制造`的关系
- 多个饮料可以被多个厂商制造
- 多个厂商可以制造出多种饮料
  ![](https://img.npfs06.top/20210302150853.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

### 概念模型的一种表示方法

#### 实体－联系方法(E-R方法)

- E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用E-R图来描述现实世界的概念模型
- E-R方法也称为E-R模型

#### 实体型

用矩形表示，矩形框内写明实体名。
![](https://img.npfs06.top/20210302150908.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 属性

用椭圆形表示，并用无向边将其与相应的实体连接起来
![](https://img.npfs06.top/20210302150921.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 联系

- 联系本身：
  用菱形表示，菱形框内写明联系名，并用无向边分别与有关实体连接起来，同时在无向边旁标上联系的类型（1:1、1:n或m:n）
  ![](https://img.npfs06.top/20210302150933.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 联系的表示方法

![](https://img.npfs06.top/20210302150947.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 联系的表示方法示例

![](https://img.npfs06.top/20210302151002.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 联系的属性

- `联系本身`也是一种`实体型`，`也可以有属性`。如果一个联系具有属性，则这些属性也要用无向边与该联系连接起来
  ![](http://img.npfs06.top/20210302151014.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)



#### 一个实例

**用E-R图表示某个工厂物资管理的概念模型**

- 实体
  仓库： 仓库号、面积、电话号码
  零件 ：零件号、名称、规格、单价、描述
  供应商：供应商号、姓名、地址、电话号码、帐号
  项目：项目号、预算、开工日期
  职工：职工号、姓名、年龄、职称

**实体之间的联系如下：**

- (1)一个仓库可以存放多种零件，一种零件可以存放在多个仓库中。仓库和零件具有多对多的联系。用库存量来表示某种零件在某个仓库中的数量。
  (2)一个仓库有多个职工当仓库保管员，一个职工只能在一个仓库工作，仓库和职工之间是一对多的联系。职工实体型中具有一对多的联系
  (3)职工之间具有领导-被领导关系。即仓库主任领导若干保管员。
  (4)供应商、项目和零件三者之间具有多对多的联系
  ![](https://img.npfs06.top/20210302151031.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

## 非关系模型

### 层次模型(Hierarchical Model)

- 层次模型是数据库系统中最早出现的数据模型
- 层次数据库系统的典型代表是IBM公司的IMS（Information Management System）数据库管理系统
- 层次模型用`树形结构`来表示各类实体以及实体间的联系

#### 数据结构

**满足下面两个条件的基本层次联系的集合为层次模型**

- 有且只有一个结点没有双亲结点，这个结点称为`根结点`
- 根以外的其它结点`有且只有一个`双亲结点

**层次模型中的几个术语**
根结点，双亲结点，兄弟结点，叶结点
![](https://img.npfs06.top/20210302151046.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 特点

- 结点的双亲是`唯一`的
- 只能直接处理`一对多`的实体联系
- 每个记录类型可以定义一个排序字段，也称为·`码字段`
- 任何记录值只有`按其路径查看`时，才能显出它的全部意义
- `没有`一个子女记录值能够`脱离`双亲记录值而独立存在

![](https://img.npfs06.top/20210302151100.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
![](https://img.npfs06.top/20210302151115.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 多对多联系在层次模型中的表示

**方法：**

- 将多对多联系分解成一对多联系

**分解方法：**

- 冗余结点法
- 虚拟结点法

#### 数据操纵与完整性约束

**层次模型的数据操纵：**

- 查询
- 插入
- 删除
- 更新

**层次模型的完整性约束条件：**

- 无相应的双亲结点值就不能插入子女结点值
- 如果`删除双亲`结点值，则相应的`子女结点`值也被`同时删除`
- 更新操作时，应更新所有相应记录，以保证数据的一致性

#### 存储结构

**邻接法：**
按照层次树`前序遍历（T-L-R）`的顺序把所有记录值依次邻接存放，即通过物理空间的位置相邻来实现层次顺序。又可分为：`子女－兄弟链接法`和`层次序列链接法`。

![](https://img.npfs06.top/20210302151131.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

##### 子女-兄弟链接法

- 每个记录设两类指针，分别指向`最左边的子女`（每个记录型对应一个）和`最近的兄弟`
  ![](https://img.npfs06.top/20210302151150.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

##### 层次序列链接法

- 按树的`前序穿越顺序`链接各记录值
  ![](https://img.npfs06.top/20210302151207.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 优缺点

- **优点：**
  层次模型的数据`结构`比较简单`清晰`
  `查询效率高，性能优于关系模型，不低于网状模型`
  层次数据模型提供了良好的完整性支持
- **缺点：**
  多对多联系表示不自然
  对`插入`和`删除`操作的`限制多`，应用`程序`的`编写`比较`复杂`
  查询子女结点必须通过双亲结点
  由于结构严密，层次命令趋于程序化

### 网状模型(Network Model)

**网状数据库系统采用网状模型作为数据的组织方式**

> - 典型代表是DBTG系统：
>   亦称CODASYL系统
>   70年代由DBTG提出的一个系统方案
>   奠定了数据库系统的基本概念、方法和技术
> - 实际系统:
>   Cullinet Software Inc.公司的 IDMS
>   Univac公司的 DMS1100
>   Honeywell公司的IDS/2
>   HP公司的IMAGE

#### 数据结构

**网状模型:**
满足下面两个条件的基本层次联系的集合：

1. 允许一个以上的结点无双亲；
2. 一个结点可以有多于一个的双亲。

**表示方法(与层次数据模型相同):**
`实体型`：用记录类型描述
每个`结点`表示一个记录类型（实体）
`属性`：用字段描述
每个记录类型可包含若干个字段
`联系`：用结点之间的`连线`表示记录类型（实体）之
间的`一对多的父子联系`

**网状模型与层次模型的区别:**

- 网状模型允许多个结点没有双亲结点
- 网状模型允许结点有多个双亲结点
- 网状模型允许两个结点之间有多种联系（复合联系）
- 网状模型可以更直接地去描述现实世界
- 层次模型实际上是网状模型的一个特例

`网状模型中子女结点与双亲结点的联系可以不唯一`
要为`每个联系命名`，并指出与`该联系有关`的`双亲记录`和`子女记录`
![](https://img.npfs06.top/20210302151222.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
![](https://img.npfs06.top/20210302151240.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

**多对多联系在网状模型中的表示:**
方法：将`多对多`联系直接分解成`一对多`联系

`例如`：一个学生可以选修若干门课程，·某一课程可以被多个学生选修，学生与课程之间是多对多联系 ·

- 引进一个学生选课的联结记录，由3个数据项组成
  学号
  课程号
  成绩
  表示某个学生选修某一门课程及其成绩

![](https://img.npfs06.top/20210302151256.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 网状数据模型的操纵与完整性约束（续）

**网状数据库系统（如DBTG）对数据操纵加 了一些限制，提供了一定的完整性约束**

- `码`：唯一标识记录的数据项的集合
- 一个联系中`双亲记录`与`子女记录`之间是`一对多`联系
- 支持双亲记录和子女记录之间某些约束条件

#### 存储结构

**关键：**

- 实现记录之间的联系

**常用方法：**

- 单向链接
- 双向链接
- 环状链接
- 向首链接

![](https://img.npfs06.top/20210302151309.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 优缺点

- **优点**
  能够更为直接地描述现实世界，如一个结点可以有多个双亲；
  具有良好的性能，存取效率较高；
- **缺点**
  结构比较复杂，而且随着应用环境的扩大，数据库的结构就变得越来越复杂，不利于最终用户掌握；
  DDL、DML语言复杂，用户不容易使用；

## 关系模型

关系数据库系统采用`关系模型`作为数据的组织方式
1970年美国IBM公司San Jose研究室的研究员E.F.Codd首次提出了数据库系统的关系模型
计算机厂商新推出的数据库管理系统几乎都支持关系模型

### 数据结构

在用户观点下，`关系模型中数据的逻辑结构`是一张`二维表`，它由`行`和`列`组成。
**几个名词解释：**

- `关系`（Relation）
  一个关系对应通常说的一张表
- `元组`（Tuple）
  表中的一行即为一个元组
- `属性`（Attribute）
  表中的一列即为一个属性，给每一个属性起一个名称即属性名
- `主码`（Key）
  表中的某个`属性组`，它可以`唯一确定一个元组`。
- `域`（Domain）
  属性的取值范围。
- `分量`
  元组中的一个属性值。
- `关系模式`
  对关系的描述
  关系名（属性1，属性2，…，属性n）
  学生（学号，姓名，年龄，性别，系，年级）
  ![](https://img.npfs06.top/20210302151326.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
  **举几个例子：**
- `例1`
  学生、系、系与学生之间的·`一对多`联系：
  学生（学号，姓名，年龄，性别，`系号`，年级）
  系 (`系号`，系名，办公地点)
- `例2`
  系、系主任、系与系主任间的`一对一`联系
- `例3`
  学生、课程、学生与课程之间的`多对多`联系：
  学生（`学号`，姓名，年龄，性别，系号，年级）
  课程（`课程号`，课程名，学分）
  选修（`学号`，`课程号`，成绩）

**规范化：**

- 关系必须是规范化的，满足一定的规范条件
- 最基本的规范条件：`关系的每一个分量必须是一个不可分的数据项, 不允许表中还有表`
- 图1.27中工资和扣除是可分的数据项 ,不符合关系模型要求
  ![](https://img.npfs06.top/20210302151342.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

![](https://img.npfs06.top/20210302151356.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

### 关系数据模型的操纵与完整性约束

- `数据操作`是集合操作，操作对象和操作结果都是关系
  查询
  插入
  删除
  更新
- `数据操作是集合操作，操作对象和操作结果都是关系`，即若干元组的集合存取路径对用户隐蔽，用户只要指出“干什么”，不必详细说明“怎么干”
- 关系的`完整性约束条件`
  实体完整性
  参照完整性
  用户定义的完整性

### 存储结构

- 实体及实体间的联系都用`表`来表示
  表以文件形式存储
   有的DBMS一个表对应一个操作系统文件；
   有的DBMS自己设计文件结构；

### 优缺点

- 优点
  - 建立在严格的数学概念的基础上;
  - 概念单一:
    实体和各类联系都用关系来表示;
     对数据的检索结果也是关系;
  - 关系模型的存取路径对用户透明;
    具有更高的数据独立性，更好的安全保密性
     简化了程序员的工作和数据库开发建立的工作;
- 缺点
  - 存取路径对用户透明导致查询效率往往不如非关系数据模型;
  - 为提高性能，必须对用户的查询请求进行优化,增加了开发DBMS的难度;

## 面向对象数据模型

- 将`语义数据模型`和`面向对象程序设计方法`结合起来，用`面向对象观点`来描述现实世界`实体`(对象)的`逻辑组织`、`对象间限制`、`联系`等的`模型`。
- 一系列面向对象核心概念构成了面向对象数据模型( Object Oriented Data Model, 00模型)的基础，主要包括以下一些概念:
  - (1)现实世界中的任何事物都被建模为对象。每个对象具有一个唯一的对象标识
    (OID)。
  - (2)对象是其状态和行为的封装，其中状态是对象属性值的集合，行为是变更对象状
    态的方法集合。
  - (3)具有相同属性和方法的对象的全体构成了类，类中的对象称为类的实例。
  - (4)类的属性的定义域也可以是类，从而构成了类的复合。类具有继承性，一个类可以继承另一个类的属性与方法，被继承类和继承类也称为超类和子类。类与类之间的复合与继承关系形成了一个有向无环图，称为类层次。
  - (5)对象是被封装起来的，它的状态和行为在对象外部不可见，从外部只能通过对象显式定义的消息传递对对象进行操作。
- 面向对象数据库(OODB)的研究始于20世纪80年代，有许多面向对象数据库产品相继问世，较著名的有Object Store、02、ONTOS等。
- 与传统数据库一样，面向对象数据库系统对数据的操纵包括数据查询、增加、删除、修改等，也具有并发控制、故障恢复、存储管理等完整的功能。不仅能支持传统数据库应用，也能支持非传统领域的应用，包括CAD/CAM、OA、CIMS、GIS以及图形、图像等多媒体领域、工程领域和数据集成等领域。
- 尽管如此，由于面向对象数据库操作语言过于复杂，没有得到广大用户，特别是开发人员的认可，加上面向对象数据库企图完全替代关系数据库管理系统的思路，增加了企业系统升级的负担，客户不接受，·`面向对象数据库产品终究没有在市场上获得成功。`

## 对象关系模型

- `对象关系数据库系统`(Object Relational DataBase System, ORDBS) 是`关系数据库`与`面向对象数据库`的结合。
- 它保持了关系数据库系统的非过程化数据存取方式和数据独立性，继承了关系数据库系统已有的技术，支持原有的数据管理，又能支持00模型和对象管理。各数据库厂商都在原来的产品基础上进行了扩展。
- 1999 年发布的SQL标准(也称为SQL99)，增加了SQL/Object Language Binding, 提供了面向对象的功能标准。SQL99对ORDBS标准的制定滞后于实际系统的实现。所以各个ORDBS产品在支持对象模型方面虽然思想一致，但是所采用的术语、语言语法、扩展的功能都不尽相同。



# 数据库系统结构和组成

**思维导图**

![](https://img.npfs06.top/20210302151623.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)



## 数据库系统结构

### 两种角度

- 从数据库`管理系统角度`看，数据库系统通常采用三级模式结构，是数据库系统`内部`的系统结构
- 从数据库`最终用户角度`看（数据库系统`外部`的体系结构） ，数据库系统的结构分为:
  单用户结构
  主从式结构
  分布式结构
  客户／服务器
  浏览器／应用服务器／数据库服务器多层结构等

### 数据库系统模式的概念

> 来自张教授的解疑：`模式是数据库结构的描述、关系模式是表的结构的描述`;

**“型” 和“值” 的概念**

- 型(Type)
  对某一类数据的结构和属性的说明
- 值(Value)
  是型的一个具体赋值

**例如**
学生记录型：
（学号，姓名，性别，系别，年龄，籍贯）
一个记录值：
（900201，李明，男，计算机，22，江苏）

**模式（Schema）**

- `数据库逻辑结构和特征的描述`
- `是型的描述`
- 反映的是数据的结构及其联系
- 模式是相对稳定的

**实例（Instance）**

- 模式的一个具体值
- `反映数据库某一时刻的状态`
- `同一个模式可以有很多实例`
- 实例随数据库中的数据的更新而变动

**一个数据库只有一个模式，可以把模式看成唯一的数据库，实例就是数据库里面的多个表**

`例如`：在学生选课`数据库模式`中，包含学生记录、课程记录和学生选课记录

- 2003年的一个学生数据库`实例`，包含：
  2003年学校中所有学生的记录
  学校开设的所有课程的记录
  所有学生选课的记录
- `2002`年度学生`数据库模式对应的实例`与`2003`年度学生`数据库模式对应的实例`是不同的

### 数据库系统的三级模式结构

![](https://img.npfs06.top/20210302151638.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 模式（Schema）

**模式（也称逻辑模式）**

- 数据库中全体`数据的逻辑结构和特征的描述`
- 所有`用户的公共数据视图`，综合了所有用户的需求

**一个数据库只有一个模式，可以把模式看成唯一的数据库，实例就是数据库里面的多个表**

**模式的地位：是数据库系统模式结构的中间层**

- 与数据的物理存储细节和硬件环境无关
- 与具体的应用程序、开发工具及高级程序设计语言无关

**模式的定义:**

- 数据的逻辑结构（数据项的名字、类型、取值范围等）
- 数据之间的联系
- 数据有关的安全性、完整性要求

#### 外模式（External Schema）

**外模式（也称子模式或用户模式）**

- 数据库用户（包括应用程序员和最终用户）使用的`局部`数据的逻辑结构和特征的描述
- 数据库用户的数据视图，是与某一应用有关的数据的逻辑表示，`可以看成把数据库的部分数据，运用在不同的应用程序上，在UI界面上显示`

**一个数据库只有一个模式，可以把模式看成唯一的数据库，实例就是数据库里面的多个表**
**外模式的地位：介于模式与应用之间**

- 模式与外模式的关系：一对多
  外模式通常是模式的子集;
  一个`数据库`可以有多个`外模式`。反映了不同的用户的应用需求、看待数据的方式、对数据保密的要求;
  对模式中同一数据，在外模式中的结构、类型、长度、保密级别等都可以不同;
- 外模式与应用的关系：一对多
  同一外模式也可以为某一用户的多个应用系统所使用;
  但一个应用程序只能使用一个外模式;`可以看成把数据库的部分数据，运用在不同的应用程序上，在UI界面上显示`

**外模式的用途**

- 保证数据库安全性的一个有力措施；
- 每个用户只能看见和访问所对应的外模式中的数据；

#### 内模式（Internal Schema）

**内模式（也称存储模式）**

- 是数据`物理结构和存储方式`的描述
- 是`数据`在`数据库内部`的表示方式:
  - 记录的存储方式（顺序存储，按照B树结构存储，
    按hash方法存储）
  - 索引的组织方式
  - 数据是否压缩存储
  - 数据是否加密
  - 数据存储记录结构的规定
- `一个数据库只有一个内模式`

`·例如`学生记录，如果按`堆`存储，则插入一条新记录总是放在学生记录存储的`最后`.
![](https://img.npfs06.top/20210302151657.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

- 如果按·`学号升序存储`，则插入一条记录就要`找到它应在的位置插入`，如图1.29（b）所示
- 如果按照学生`年龄聚簇存放`，`假如`新插入的`S3`是`16岁`，则应插入的位置如图1.29（c）所示
  ![](https://img.npfs06.top/20210302151715.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 数据库模式、外模式、内模式总结

![](https://img.npfs06.top/20210302151731.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)
**数据库模式**

- 即全局逻辑结构是数据库的中心与关键
- 独立于数据库的其他层次
- 设计数据库模式结构时应首先确定数据库的逻辑模式

**数据库的外模式**

- 面向具体的应用程序
- 定义在逻辑模式之上
- 独立于存储模式和存储设备
- 当应用需求发生较大变化，相应外模式不能满足其视图要求时，该外模式就得做相应改动
- 设计外模式时应充分考虑到应用的扩充性

**数据库的内模式**

- 依赖于它的全局逻辑结构
- 独立于具体的存储设备
- 将全局逻辑结构中所定义的数据结构及其联系按照一定的物理存储策略进行组织，以达到较好的时间与空间效率

### 数据库的二级映像功能与数据独立性

- ·`三级模式是对数据的三个抽象级别`
- `二级映象`在DBMS内部实现这`三个抽象层次`的`联系`和`转换`
  - 外模式／模式映像
  - 模式／内模式映像
    ![](https://img.npfs06.top/20210302151743.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

#### 外模式／模式映象

- 模式：描述的是数据的`全局`逻辑结构
- 外模式：描述的是数据的`局部`逻辑结构
- 同`一个模式`可以有任意`多个外模式`
- 每一个外模式，数据库系统都有一个`外模式／模式映象`，定义外模式与模式之间的对应关系,看成数据库的数据与API调用的部分数据之间的关系(I think)
- 映象定义通常包含在各自外模式的描述中

**保证数据的逻辑独立性**

- 当`模式改变`时，数据库管理员`修改有关的外模式／模式映象`，使`外模式`保持`不变`
- 应用程序是依据数据的外模式编写的，从而应用程序不必修改，保证了数据与程序的逻辑独立性，简称`数据的逻辑独立性`。

#### 模式／内模式映象

**模式／内模式映象定义了数据全局逻辑结构与存储结构之间的对应关系。**

```
  例如，说明逻辑记录和字段在内部是如何表示的
```

- 数据库中`模式／内模式映象`是`唯一`的
- 该映象定义通常包含在模式描述中

**保证数据的物理独立性**

- 当数据库的`存储结构改变`了（例如选用了另一种存储结构），数据库管理员`修改模式／内模式映象`，使模式保持`不变`.
- 应用程序不受影响。保证了数据与程序的物理独立性，简称`数据的物理独立性`。

**特定的应用程序**

- 在外模式描述的数据结构上编制的
- 依赖于特定的外模式
- 与数据库的模式和存储结构独立
  不同的应用程序有时可以共用同一个外模式

**数据库的二级映像**

- 保证了数据库外模式的稳定性
- 从底层保证了应用程序的稳定性，除非应用需求本身发生变化，否则应用程序一般不需要修改

**数据与程序之间的独立性，使得数据的定义和描述可以从应用程序中分离出去**

**数据的存取由DBMS管理**

- 用户不必考虑存取路径等细节
- 简化了应用程序的编制
- 大大减少了应用程序的维护和修改

## 数据库的组成

- 数据库
- 数据库管理系统（及其开发工具）
- 应用系统
- 数据库管理员
- 硬件平台及数据库
- 软件
- 人员

### 硬件平台及数据库

**数据库系统对硬件资源的要求**

- (1) 足够大的内存
  - 操作系统
  - DBMS的核心模块
  - 数据缓冲区
  - 应用程序
- (2) 足够大的外存
  - 磁盘或磁盘阵列
  - 数据库
  - 光盘、磁带
  - 数据备份
- (3) 较高的通道能力，提高数据传送率

### 软件

- DBMS
- 支持DBMS运行的操作系统
- 与数据库接口的高级语言及其编译系统
- 以DBMS为核心的应用开发工具
- 为特定应用环境开发的数据库应用系统

### 人 员

- 数据库管理员
- 系统分析员和数据库设计人员
- 应用程序员
- 用户

不同的人员涉及不同的数据抽象级别，具有不同的数据视图，如下图所示
![](https://img.npfs06.top/20210302151756.png?imageView2/0/q/75|watermark/2/text/bnBmczA2LnRvcA==/font/5b6u6L2v6ZuF6buR/fontsize/340/fill/IzAwMDAwMA==/dissolve/62/gravity/SouthEast/dx/10/dy/10)

##### 数据库管理员(DBA)

**具体职责：**
1.决定数据库中的信息内容和结构
2.决定数据库的存储结构和存取策略
3.定义数据的安全性要求和完整性约束条件
4.监控数据库的使用和运行

- 周期性转储数据库
- 数据文件
- 日志文件
- 系统故障恢复
- 介质故障恢复
- 监视审计文件

5.数据库的改进和重组

- 性能监控和调优
- 定期对数据库进行重组织，以提高系统的性能
- 需求增加和改变时，数据库须需要重构造

##### 系统分析员

**具体职责：**

- 负责应用系统的需求分析和规范说明
- 与用户及DBA协商，确定系统的硬软件配置
- 参与数据库系统的概要设计

##### 数据库设计人员

**具体职责：**

- 参加用户需求调查和系统分析
- 确定数据库中的数据
- 设计数据库各级模式

##### 应用程序员

**具体职责：**

- 设计和编写应用系统的程序模块
- 进行调试和安装

##### 用户

用户是指最终用户（End User）。
最终用户通过应用系统的用户接口使用数据库。
1.偶然用户

- 不经常访问数据库，但每次访问数据库时往往需要不同的数据库信息
- 企业或组织机构的高中级管理人员

2.简单用户

- 主要工作是查询和更新数据库
- 银行的职员、机票预定人员、旅馆总台服务员

3.复杂用户

- 工程师、科学家、经济学家、科技工作者等
- 直接使用数据库语言访问数据库，甚至能够基于数据库管理系统的API编制自己的应用程序