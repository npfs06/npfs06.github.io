---
title: 单片机期末程序题
date: 2021-06-22 23:22:42
updated: 2021-06-22 23:22:42
categories: 单片机

---

单片机期末考试的五道程序题<!--more-->

1、晶振为12Mhz，编写延迟时间为1ms的延迟子程序

```
DELAY: MOV R5,#10H
LOOP1: MOV R6,#250H
LOOP2: DJMZ R6,LOOP2
	   DJMZ R5,LOOP1
	   RETI
END
```



2.查询地址30H-60H中，出现AAH的次数

```
ORG 0000H
AJMP MAIN
ORG 0100H
MAIN:MOV R1,#60H
	 MOV R0,#0
START:DEC R1
      CJNE R1,#02FH,NEXT
      AJMP EXT
NEXT:CJNE @R1,#0AAH,START
     INC R0
     AJMP START
EXT:END
```



3.设计令定时器T0在P2.0上产生频率为20Hz方波

```
ORG 0000H
AJMP MAIN
ORG 000BH
AJMP CTMO
ORG 0030H
MAIN:MOV TMOD,#01H
     MOV TH0,#9EH
     MOV TL0,#58H
     SETB EA
     SETB ET0
     SETB TR0
WAIT:SJMP WAIT
CTMO:MOV TH0,#9EH
     MOV TL0,58H
     CPL P2.0
     EXIT
END
```



4.串行口通信

```
ORG OOOOH
AJMP MAIN
ORG 0100H
MAIN:MOV SP,#60H
     MOV R0,#0
     MOV SCON,#40H
START: LCALL DELAY
       INC R0
       MOV A,R0
       MOV SBUF,A
       JNB T1,$
       CLR T1
       LJMP SATRT
       END
DELAY:MOV R5,#10
LOOP1:MOV R6,#200
LOOP2:MOV R7,#250
	  DJMZ R7,$
	  DJMZ R6,LOOP2
	  DJMZ R5,LOOP1
	  RET
```



5.按键显示

```
ORG 0000H
AJMP MAIN
ORG 0100H
MAIN:MOV P1,#0
NET1:JB P0.0,NET2
	 MOV P1,#09FH
MET2:JB P0.1,NET3
     MOV P1,#0A4H
NET3:JB P0.2,NET4
	 MOV P1,#0B0H
NET4:JB P0.3,NET0
     MOV P1,#99H
     LMP NET1
END
```

